{"version":3,"sources":["icons/todo.svg","icons/edit.svg","icons/close.svg","icons/heart.svg","icons/plus-square.svg","icons/search.svg","icons/trash-alt.svg","index.js"],"names":["Todo","useState","todos","setTodos","query","setQuery","current","setCurrent","input","useRef","modal","editedRef","useEffect","localStorage","getItem","JSON","parse","setItem","stringify","showingTodos","pattern","RegExp","filter","todo","test","value","toLowerCase","edit","e","preventDefault","style","display","concat","a","u","find","tod","id","time","Date","now","replace","className","ref","onClick","src","CloseSvg","alt","onSubmit","type","placeholder","onChange","target","trim","SearchSvg","length","Math","floor","random","PlusSvg","map","index","moment","fromNow","handleEdit","EditSvg","DeleteSvg","TodoSvg","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.f05e12d1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/todo.24b57d27.svg\";","export default __webpack_public_path__ + \"static/media/edit.bbd3758e.svg\";","export default __webpack_public_path__ + \"static/media/close.9292976f.svg\";","export default __webpack_public_path__ + \"static/media/heart.45d38af2.svg\";","export default __webpack_public_path__ + \"static/media/plus-square.e21a6d41.svg\";","export default __webpack_public_path__ + \"static/media/search.d35bc66a.svg\";","export default __webpack_public_path__ + \"static/media/trash-alt.f8bd6e90.svg\";","import React, { useState, useRef, useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport moment from \"moment\";\r\n\r\nimport \"./index.css\";\r\nimport TodoSvg from \"./icons/todo.svg\";\r\nimport EditSvg from \"./icons/edit.svg\";\r\nimport HeartSvg from \"./icons/heart.svg\";\r\nimport CloseSvg from \"./icons/close.svg\"\r\nimport PlusSvg from \"./icons/plus-square.svg\";\r\nimport SearchSvg from \"./icons/search.svg\";\r\nimport DeleteSvg from \"./icons/trash-alt.svg\";\r\n\r\nconst Todo = () => {\r\n  const [todos, setTodos] = useState([]);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [current, setCurrent] = useState({});\r\n\r\n  const input = useRef();\r\n  const modal = useRef();\r\n  const editedRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"tasks\")) {\r\n      setTodos(JSON.parse(localStorage.getItem(\"tasks\")));\r\n    } else {\r\n      localStorage.setItem(\"tasks\", JSON.stringify([]));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"tasks\", JSON.stringify(todos));\r\n  }, [todos]);\r\n\r\n  const addTodo = (e) => {\r\n    e.preventDefault();\r\n    if (input.current.value) {\r\n      setTodos([\r\n        ...todos,\r\n        {\r\n          id: todos.length * Math.floor(Math.random() * 1000),\r\n          value: input.current.value,\r\n          time: Date.now(),\r\n        },\r\n      ]);\r\n      input.current.value = \"\";\r\n    }\r\n  };\r\n\r\n  function replace(todo, value) {\r\n    let a = todos;\r\n    let u = a.find((tod) => tod.id === todo.id);\r\n    u.value = value;\r\n    u.time = Date.now();\r\n    return a;\r\n  }\r\n\r\n  let showingTodos;\r\n  if (query) {\r\n    let pattern = new RegExp(query);\r\n    showingTodos = todos.filter((todo) =>\r\n      pattern.test(todo.value.toLowerCase())\r\n    );\r\n  } else {\r\n    showingTodos = todos;\r\n  }\r\n\r\n  const handleDelete = (id) => {\r\n    setTodos(todos.filter((todo) => todo.id !== id));\r\n  };\r\n\r\n  const handleEdit = (todo) => {\r\n    modal.current.style.display = \"block\";\r\n    editedRef.current.value = todo.value;\r\n    setCurrent(todo);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    modal.current.style.display = \"none\";\r\n  };\r\n\r\n  const edit = (e) => {\r\n    e.preventDefault();\r\n    modal.current.style.display = \"none\";\r\n    if (editedRef.current.value) {\r\n      setTodos([...[].concat(replace(current, editedRef.current.value))]);\r\n      editedRef.current.value = \"\";\r\n    } else {\r\n      modal.current.style.display = \"block\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"todo-container\">\r\n      <div ref={modal} className=\"modal\">\r\n        <div className=\"modal-content\">\r\n          <span onClick={closeModal}>\r\n            <img src={CloseSvg} alt=\"close\" />\r\n          </span>\r\n          <form onSubmit={(e) => edit(e)}>\r\n            Enter new todo content\r\n            <div>\r\n              <input type=\"text\" ref={editedRef} placeholder=\"Enter....\" />\r\n              <button type=\"submit\">Submit</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <div className=\"search\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search...\"\r\n          value={query}\r\n          onChange={(e) => setQuery(e.target.value.trim().toLowerCase())}\r\n        />\r\n        <img src={SearchSvg} alt=\"search\" />\r\n      </div>\r\n      <div className=\"add-button\">\r\n        <form onSubmit={addTodo}>\r\n          <input type=\"text\" ref={input} placeholder=\"Add todo...\" />\r\n          <button type=\"submit\">\r\n            <img src={PlusSvg} alt=\"add-todo\" /> Add\r\n          </button>\r\n        </form>\r\n      </div>\r\n      {todos.length !== 0 ? (\r\n        <div className=\"todos\">\r\n          {query !== \"\" && (\r\n            <div className=\"showing\">\r\n              Showing {showingTodos.length} of {todos.length}:\r\n              <button onClick={() => setQuery(\"\")}>Show All</button>\r\n            </div>\r\n          )}\r\n          <ol>\r\n            {showingTodos.map((todo, index) => (\r\n              <li key={todo.id}>\r\n                <div>\r\n                  {index + 1}. {todo.value}\r\n                </div>\r\n                <div className=\"buttons\">\r\n                  <div>{moment(todo.time).fromNow()}</div>\r\n                  <button onClick={() => handleEdit(todo)}>\r\n                    <img src={EditSvg} alt=\"edit\" />\r\n                  </button>\r\n                  <button onClick={() => handleDelete(todo.id)}>\r\n                    <img src={DeleteSvg} alt=\"delete\" />\r\n                  </button>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ol>\r\n        </div>\r\n      ) : (\r\n        <div className=\"nothing\">\r\n          <img src={TodoSvg} alt=\"todo-icon\" />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nReactDOM.render(<Todo />, document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}